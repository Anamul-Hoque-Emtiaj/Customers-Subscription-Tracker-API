from rest_framework import serializers
from .models import CustomerModel,PlanModel,PurchaseModel

class PlanSerializer(serializers.ModelSerializer):
    name = serializers.CharField(max_length=30)
    price = serializers.DecimalField(max_digits=7,decimal_places=2)
    planDuration = serializers.CharField(source='get_planDuration_display')

    class Meta:
        model = PlanModel
        fields = '__all__'

class PurchaseSerializer(serializers.ModelSerializer):
    purchaseTime = serializers.DateTimeField()
    planExpireDate = serializers.DateTimeField()

    class Meta:
        model = PurchaseModel 
        fields = ['plan','purchaseTime','planExpireDate']

class CustomerSerializer(serializers.ModelSerializer):
    name = serializers.CharField(max_length=30)
    email = serializers.EmailField()
    phoneNumber = serializers.CharField(max_length=15)
    plan = PurchaseSerializer(read_only=True)
    class Meta:
        model = CustomerModel 
        fields = '__all__'